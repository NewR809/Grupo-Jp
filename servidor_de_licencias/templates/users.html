{% extends "layout.html" %}
{% block content %}
<h2>Gestión de Usuarios</h2>

<!-- Formulario de creación de usuarios -->
<form method="post" class="mb-3 app-form app-card">
  <div class="row">
    <div class="col">
      <input type="text" name="username" placeholder="Usuario" class="form-control" required>
    </div>
    <div class="col">
      <input type="password" name="password" placeholder="Contraseña" class="form-control" required>
    </div>
    <div class="col">
      <select name="role" class="form-select">
        <option value="admin">Admin</option>
        <option value="visor">Visor</option>
      </select>
    </div>
    <div class="col">
      <button class="btn btn-primary">Crear Usuario</button>
    </div>
  </div>
</form>

<!-- Tabla de usuarios -->
<table class="table table-bordered app-table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Usuario</th>
      <th>Rol</th>
    </tr>
  </thead>
  <tbody>
    {% if users %}
      {% for u in users %}
      <tr>
        <td>{{ u.id }}</td>
        <td>{{ u.username }}</td>
        <td>{{ u.role }}</td>
      </tr>
      {% endfor %}
    {% else %}
      <tr>
        <td colspan="3" class="app-empty">No hay usuarios registrados</td>
      </tr>
    {% endif %}
  </tbody>
</table>
{% endblock %}